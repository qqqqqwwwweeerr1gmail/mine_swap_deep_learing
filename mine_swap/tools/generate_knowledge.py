import json,time

def compare_direct(a, b, bayes_rate_dict):
    # priori knowledge
    priori_dict = {'r': 1, 'd': 1, 'l': -1, 'u': -1}
    axis_dict = {'y_axis': 'du', 'x_axis': 'rl'}
    op_priori = {('r', 'op'): {'l'}, ('l', 'op'): {'r'}, ('d', 'op'): {'u'}, ('u', 'op'): {'d'}}

    y_axis = int(a[0]) - int(b[0])
    x_axis = int(a[1]) - int(b[1])

    relation = ''
    direction = 'd' if y_axis < 0 else 'u'
    relation += ''.join([direction for x in range(abs(y_axis))])
    direction = 'r' if x_axis < 0 else 'l'
    relation += ''.join([direction for x in range(abs(x_axis))])

    a_n = bayes_rate_dict[a]
    b_n = bayes_rate_dict[b]
    return a_n, relation, b_n


def write_edr(EDR,edr_path='edr.json'):
    """write a new discovered edr if it not exists"""
    """@return is_write_flag : is update to edr or not"""
    """@return edr_no : index of writed edr, if flag not , it's no meaning"""

    with open(edr_path) as f:
        d = json.load(f)
        f.close()

    edr_no = int(time.time() * 1_000_000)
    e_r = {str(edr_no): str(EDR)}

    # update and do not write if exists

    is_write_flag = False
    if str(EDR) not in d['edr'].values():
        d['edr'].update(e_r)
        is_write_flag = True

    with open(edr_path, 'w') as f:
        json.dump(d, f)
        f.close()
    return is_write_flag, edr_no


def read_edr(edr_path='edr.json'):
    with open(edr_path) as f:
        d_edr = json.load(f)['edr']
    return d_edr

def read_knowledge(knowledge_path = 'knowledge.json'):
    with open(knowledge_path) as f:
        d_knowledge = json.load(f)['knowledge']
    return d_knowledge


def edr_value(re_sim_dict, position, mine_rate):
    re_sim_dict[position] = '?' + str(1 - float(mine_rate))
    return re_sim_dict

from mine_swap.tools.suspect import po_plus_dire
def evaluate_edr_by_memo(edr_no, all_last_plob,edr_path='edr.json',knowledge_path='knowledge.json'):
    """evaluate a new writed edr based on all_last_plob"""
    d_edr = read_edr(edr_path=edr_path)
    print(d_edr)

    d_knowledge = read_knowledge(knowledge_path=knowledge_path)
    print(d_knowledge)

    edr = eval(d_edr[str(edr_no)])

    key_num = list(list(edr.values())[0].keys())[0][0]
    direction = list(list(edr.values())[0].keys())[0][1]
    mine_rate = list(list(edr.values())[0].values())[0][1]

    loaded = 0
    observed = 0
    correct = 0

    for plob in all_last_plob:

        plob_ima = [[y + str(1) if y.startswith('?') else y for y in x] for x in plob]
        re_sim_dict = {(x, y): plob_ima[x][y] for x in range(len(plob_ima)) for y in range(len(plob_ima[x]))}

        arr = [k for k, v in re_sim_dict.items() if v == key_num]

        loaded += 1
        for position in arr:
            position = po_plus_dire(len(plob),len(plob[0]),position, direction)
            if position and re_sim_dict[position][0] != '?':
                observed += 1
                if re_sim_dict[position] == '*':
                    correct += 1
                if re_sim_dict[position][0] in '012345678':
                    correct += 0

                re_sim_dict = edr_value(re_sim_dict, position, mine_rate)
                print(re_sim_dict)
    return {'edr_no': edr_no, 'loaded': loaded, 'observed': observed, 'correct': correct}


def update_edr_value(edr_ob,edr_value_path='edr_value.json'):

    with open(edr_value_path) as f:
        evaled_edr = json.load(f)
        f.close()

    for ob_e in edr_ob:
        # print(ob_e)
        # {'edr_no': 1651999879035613400, 'loaded': 10, 'observed': 10, 'correct': 10}
        # {'edr_no': 1651999879035613400, 'loaded': 10, 'observed': 10, 'correct': 10}
        if str(ob_e['edr_no']) not in evaled_edr['edr_value'].keys():
            new_edr_ob = {'edr_no': ob_e['edr_no'], 'loaded': ob_e['loaded'], 'observed': ob_e['observed'],
                          'correct': ob_e['correct'], 'correct_rate': 0}
        else:
            new_edr_ob = evaled_edr['edr_value'][str(ob_e['edr_no'])]
            new_edr_ob = eval(new_edr_ob)
            new_edr_ob['loaded'] += ob_e['loaded']
            new_edr_ob['observed'] += ob_e['observed']
            new_edr_ob['correct'] += ob_e['correct']
        try:
            new_edr_ob['correct_rate'] = new_edr_ob['correct'] / new_edr_ob['observed']
        except:
            new_edr_ob['correct_rate'] = 0.0
        evaled_edr['edr_value'][str(ob_e['edr_no'])] = str(new_edr_ob)

    with open(edr_value_path, 'w') as f:
        json.dump(evaled_edr, f)
        f.close()
    return


def read_edr_value(edr_value_path='edr_value.json'):
    with open(edr_value_path) as f:
        d_edr_value = json.load(f)['edr_value']
    return d_edr_value


def write_knowledge(edr_no_ls,knowledge_time,knowledge_path='knowledge.json'):

    with open(knowledge_path) as f:
        d = json.load(f)

    k_r = {str(knowledge_time): edr_no_ls}
    print(k_r)
    d['knowledge'].update(k_r)
    with open(knowledge_path, 'w') as f:
        json.dump(d, f)
    return


def write_up_edr(EDR,all_last_plob,edr_path='edr.json',edr_value_path='edr_value.json',knowledge_path='knowledge.json'):
    is_write_flag, edr_no = write_edr(EDR, edr_path=edr_path)
    if is_write_flag:
        ob_e = evaluate_edr_by_memo(edr_no, all_last_plob, edr_path=edr_path, knowledge_path=knowledge_path)
        update_edr_value([ob_e], edr_value_path=edr_value_path)

    pass

def correct_edr2knowledge(knowledge_no, edr_value_path='edr_value.json',knowledge_path='knowledge.json'):
    '''add correct conjecture to knowledge'''
    d_edr_value = read_edr_value(edr_value_path=edr_value_path)
    edr_no_ls = [k for k, v in d_edr_value.items() if int(eval(v)['correct_rate']) == 1]
    write_knowledge(edr_no_ls,knowledge_no,knowledge_path=knowledge_path)
    pass

if __name__ == '__main__':
    sorted_fo_content = [{'plob': [['0', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '0', (1, 0): 0.6, (2, 0): 0.4, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['2', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): 0.4, (2, 0): 0.6, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['2', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.0', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.4, (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['2', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.0', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.4, (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['1', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.4, (2, 0): 0.6, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['2', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): 0.4, (2, 0): 0.6, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['0', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '0', (1, 0): 0.6, (2, 0): 0.4, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['1', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.6, (2, 0): 0.4, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['2', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): 0.4, (2, 0): 0.6, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['2', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.0', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.4, (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['1', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.6, (2, 0): 0.4, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['0', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '0', (1, 0): 0.6, (2, 0): 0.4, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['1', '*'], ['?', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.6, (2, 0): 0.4, (0, 1): '*', (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['1', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.4, (2, 0): 0.6, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['0', '?'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '@1.0', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '0', (1, 0): 0.6, (2, 0): 0.4, (0, 1): 0.6, (1, 1): '*', (2, 1): 0.6}}, {'plob': [['2', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.0', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.3666666666666667, 'diff_minus_dict': {(0, 0): '2', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.4, (1, 1): 0.6, (2, 1): 0.6}}, {'plob': [['2', '*'], ['?', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.5', '(1, 0)': '#0.5', '(1, 1)': '2', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '@0.0', (2, 0): '@1.0', (0, 1): '*', (1, 1): '2', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '2', (1, 0): 0.5, (2, 0): 0.5, (0, 1): '*', (1, 1): '2', (2, 1): 0.5}}, {'plob': [['0', '?'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.5', '(1, 0)': '2', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.5, (0, 1): 0.5, (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '0'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '0', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['1', '0'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '0', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['1', '*'], ['1', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.5', '(1, 0)': '1', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '1', (2, 0): '@0.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '1', (2, 0): 0.5, (0, 1): '*', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['1', '0'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '0', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['0', '?'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.5', '(1, 0)': '2', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.5, (0, 1): 0.5, (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '1'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '1', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '1', (1, 1): '@0.0', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '1', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['1', '0'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '0', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['0', '?'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.5', '(1, 0)': '2', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.5, (0, 1): 0.5, (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '0'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): '0', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['0', '?'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.5', '(1, 0)': '2', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.5, (0, 1): 0.5, (1, 1): '*', (2, 1): 0.5}}, {'plob': [['0', '?'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '#0.5', '(1, 0)': '2', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '@1.0', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.5, (0, 1): 0.5, (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '*'], ['1', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.5', '(1, 0)': '1', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(0, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '1', (2, 0): '@0.0', (0, 1): '*', (1, 1): '@1.0', (2, 1): '@1.0'}, 'diff_value': 0.25, 'diff_minus_dict': {(0, 0): '1', (1, 0): '1', (2, 0): 0.5, (0, 1): '*', (1, 1): 0.5, (2, 1): 0.5}}, {'plob': [['1', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '@0.502', (2, 1): '@0.498'}, 'diff_value': 0.2333333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.6, (1, 1): 0.10199999999999998, (2, 1): 0.09799999999999998}}, {'plob': [['1', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '@0.528', (2, 1): '@0.472'}, 'diff_value': 0.2333333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.6, (1, 1): 0.128, (2, 1): 0.07199999999999995}}, {'plob': [['1', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '@0.49', (2, 1): '@0.51'}, 'diff_value': 0.2333333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.6, (1, 1): 0.08999999999999997, (2, 1): 0.10999999999999999}}, {'plob': [['1', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '@0.499', (2, 1): '@0.501'}, 'diff_value': 0.2333333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.6, (1, 1): 0.09899999999999998, (2, 1): 0.10099999999999998}}, {'plob': [['1', '?'], ['*', '?'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.4', '(1, 0)': '#0.4', '(1, 1)': '#0.4', '(2, 0)': '#0.4', '(2, 1)': '#0.4'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@1.0', (1, 1): '@0.506', (2, 1): '@0.494'}, 'diff_value': 0.2333333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.6, (0, 1): 0.6, (1, 1): 0.10599999999999998, (2, 1): 0.09399999999999997}}, {'plob': [['1', '0'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.6666666666666666', '(1, 1)': '2', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '2', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.33333333333333337, (0, 1): '0', (1, 1): '2', (2, 1): 0.6666666666666666}}, {'plob': [['0', '0'], ['1', '?'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '0', '(1, 0)': '1', '(1, 1)': '#0.6666666666666666', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): 0.33333333333333337, (2, 1): 0.6666666666666666}}, {'plob': [['1', '0'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.6666666666666666', '(1, 1)': '2', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '2', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.33333333333333337, (0, 1): '0', (1, 1): '2', (2, 1): 0.6666666666666666}}, {'plob': [['0', '1'], ['2', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '1', '(1, 0)': '2', '(1, 1)': '#0.6666666666666666', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '2', (2, 0): '@0.0', (0, 1): '1', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): '2', (2, 0): 0.6666666666666666, (0, 1): '1', (1, 1): '*', (2, 1): 0.33333333333333337}}, {'plob': [['0', '0'], ['?', '1'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '0', '(1, 0)': '#0.6666666666666666', '(1, 1)': '1', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '@1.0', (2, 0): '*', (0, 1): '0', (1, 1): '1', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): 0.33333333333333337, (2, 0): '*', (0, 1): '0', (1, 1): '1', (2, 1): 0.6666666666666666}}, {'plob': [['1', '0'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.6666666666666666', '(1, 1)': '2', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '2', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.33333333333333337, (0, 1): '0', (1, 1): '2', (2, 1): 0.6666666666666666}}, {'plob': [['0', '0'], ['1', '?'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '0', '(1, 0)': '1', '(1, 1)': '#0.6666666666666666', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): 0.33333333333333337, (2, 1): 0.6666666666666666}}, {'plob': [['0', '0'], ['1', '?'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '0', '(1, 0)': '1', '(1, 1)': '#0.6666666666666666', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): 0.33333333333333337, (2, 1): 0.6666666666666666}}, {'plob': [['1', '0'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '0', '(1, 0)': '#0.6666666666666666', '(1, 1)': '2', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '0', (1, 1): '2', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.33333333333333337, (0, 1): '0', (1, 1): '2', (2, 1): 0.6666666666666666}}, {'plob': [['0', '0'], ['1', '?'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '0', '(0, 1)': '0', '(1, 0)': '1', '(1, 1)': '#0.6666666666666666', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): '@1.0', (2, 1): '@0.0'}, 'diff_value': 0.16666666666666666, 'diff_minus_dict': {(0, 0): '0', (1, 0): '1', (2, 0): '*', (0, 1): '0', (1, 1): 0.33333333333333337, (2, 1): 0.6666666666666666}}, {'plob': [['2', '?'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '2', '(0, 1)': '#0.5', '(1, 0)': '#0.5', '(1, 1)': '2', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '2', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.469', (1, 1): '2', (2, 1): '@0.531'}, 'diff_value': 0.09366666666666668, 'diff_minus_dict': {(0, 0): '2', (1, 0): '*', (2, 0): 0.5, (0, 1): 0.031000000000000028, (1, 1): '2', (2, 1): 0.031000000000000028}}, {'plob': [['1', '1'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '1', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@0.478', (2, 0): '@0.522', (0, 1): '1', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.09066666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.02200000000000002, (2, 0): 0.02200000000000002, (0, 1): '1', (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '?'], ['*', '2'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.5', '(1, 0)': '#0.5', '(1, 1)': '2', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '*', (2, 0): '@1.0', (0, 1): '@0.481', (1, 1): '2', (2, 1): '@0.519'}, 'diff_value': 0.08966666666666667, 'diff_minus_dict': {(0, 0): '1', (1, 0): '*', (2, 0): 0.5, (0, 1): 0.019000000000000017, (1, 1): '2', (2, 1): 0.019000000000000017}}, {'plob': [['1', '1'], ['?', '*'], ['?', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '1', '(1, 0)': '#0.5', '(1, 1)': '#0.5', '(2, 0)': '#0.5', '(2, 1)': '#0.5'}, 'action': '(1, 1)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '@0.512', (2, 0): '@0.488', (0, 1): '1', (1, 1): '*', (2, 1): '@1.0'}, 'diff_value': 0.08733333333333333, 'diff_minus_dict': {(0, 0): '1', (1, 0): 0.01200000000000001, (2, 0): 0.01200000000000001, (0, 1): '1', (1, 1): '*', (2, 1): 0.5}}, {'plob': [['1', '?'], ['1', '1'], ['*', '?']], 'knowledge': '', 'suspect_current': '', 're_rate_dict': {'(0, 0)': '1', '(0, 1)': '#0.6666666666666666', '(1, 0)': '1', '(1, 1)': '1', '(2, 0)': '#0.6666666666666666', '(2, 1)': '#0.6666666666666666'}, 'action': '(2, 0)', 'beneficial': -1, 'bayes_rate_dict': {(0, 0): '1', (1, 0): '1', (2, 0): '*', (0, 1): '@0.482', (1, 1): '1', (2, 1): '@0.518'}, 'diff_value': 0.055555555555555546, 'diff_minus_dict': {(0, 0): '1', (1, 0): '1', (2, 0): '*', (0, 1): 0.18466666666666665, (1, 1): '1', (2, 1): 0.1486666666666666}}]

    all_last_plob = [[['1', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['0', '0'], ['1', '?'], ['*', '?']], [['2', '?'], ['*', '2'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '?'], ['?', '?']], [['1', '1'], ['*', '?'], ['?', '?']], [['2', '*'], ['?', '?'], ['?', '?']], [['1', '0'], ['*', '?'], ['?', '?']], [['1', '?'], ['1', '1'], ['*', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['1', '?'], ['*', '2'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['1', '?'], ['?', '*'], ['?', '?']], [['0', '?'], ['?', '*'], ['?', '?']], [['1', '1'], ['?', '*'], ['?', '?']], [['2', '*'], ['?', '?'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['2', '*'], ['?', '2'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['1', '0'], ['*', '?'], ['?', '?']], [['2', '*'], ['?', '?'], ['?', '?']], [['2', '*'], ['?', '2'], ['?', '?']], [['1', '1'], ['?', '*'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['0', '0'], ['?', '1'], ['*', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '?'], ['*', '2'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '1'], ['?', '*'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['1', '0'], ['?', '2'], ['2', '?']], [['1', '*'], ['1', '?'], ['?', '?']], [['1', '0'], ['?', '2'], ['2', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['0', '1'], ['2', '?'], ['*', '?']], [['2', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '?'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['2', '?'], ['*', '2'], ['?', '?']], [['1', '1'], ['*', '?'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['0', '0'], ['?', '1'], ['*', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['1', '?'], ['?', '*'], ['?', '?']], [['0', '0'], ['1', '?'], ['*', '?']], [['1', '?'], ['?', '*'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['2', '?'], ['*', '?'], ['?', '?']], [['2', '?'], ['*', '?'], ['?', '?']], [['0', '?'], ['1', '1'], ['*', '?']], [['2', '*'], ['?', '?'], ['?', '?']], [['0', '1'], ['2', '*'], ['?', '?']], [['0', '?'], ['2', '*'], ['?', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '?'], ['1', '1'], ['*', '?']], [['0', '?'], ['?', '*'], ['?', '?']], [['0', '0'], ['1', '?'], ['*', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['1', '?'], ['?', '*'], ['?', '?']], [['0', '?'], ['?', '*'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '*'], ['1', '?'], ['?', '?']], [['1', '*'], ['1', '?'], ['?', '?']], [['0', '0'], ['1', '?'], ['*', '?']], [['2', '?'], ['*', '?'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['0', '1'], ['2', '*'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '0'], ['*', '2'], ['?', '?']], [['1', '?'], ['*', '?'], ['?', '?']], [['1', '?'], ['*', '2'], ['?', '?']], [['1', '1'], ['?', '*'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '*'], ['1', '1'], ['?', '?']], [['2', '?'], ['*', '?'], ['?', '?']], [['0', '0'], ['1', '?'], ['*', '?']], [['0', '?'], ['?', '*'], ['?', '?']], [['0', '0'], ['1', '1'], ['?', '?']], [['1', '*'], ['1', '?'], ['?', '?']], [['1', '*'], ['?', '?'], ['?', '?']], [['1', '?'], ['*', '2'], ['?', '?']], [['1', '1'], ['?', '*'], ['?', '?']]]

    edr_value_path = 'edr_value.json'
    knowledge_path = 'knowledge.json'
    edr_path = 'edr.json'
    knowledge_no = 1695263544470733

    """current scenario"""

    # bayes_rate_dict = {(0, 0): '1', (1, 0): '1', (2, 0): ' @ 1.0', (0, 1): ' @ 0.512', (1, 1): '1', (2, 1): ' @ 0.488'}
    # mine_forcast_grid = [(2, 0)]
    # num_grid = [(0, 0), (1, 0), (1, 1)]
    from mine_swap.tools.generate_info_EDR import content2EDR

    for con in sorted_fo_content:
        EDRs = content2EDR(con)
        print(EDRs)
        print('-------------------------------')
        for EDR in EDRs:
            write_up_edr(EDR,all_last_plob,edr_path=edr_path,edr_value_path=edr_value_path,knowledge_path=knowledge_path)

    correct_edr2knowledge(knowledge_no,edr_value_path=edr_value_path,knowledge_path=knowledge_path)




















